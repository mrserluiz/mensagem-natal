<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ğŸ„ Uma Mensagem estÃ¡ esperando por vocÃª ğŸ„</title>

<style>
body {
  margin: 0;
  background: radial-gradient(circle at top, #132f22, #030b06);
  color: #f3f7f5;
  font-family: 'Georgia', serif;
  overflow-x: hidden;
}

.container {
  max-width: 820px;
  margin: 60px auto;
  padding: 28px;
  background: rgba(0,0,0,0.55);
  border-radius: 14px;
  text-align: center;
}

.contador { margin: 20px 0; }
.hidden { opacity: 0.15; }

#revealButton {
  margin: 20px auto;
  padding: 10px 18px;
  border-radius: 8px;
  border: none;
  cursor: pointer;
}

.assinatura {
  text-align: right;
  margin-top: 40px;
  font-style: italic;
  opacity: 0;
  transition: opacity 3s ease;
}

.cursor { animation: blink 1s infinite; }
@keyframes blink { 50%{opacity:0} }

.snowflake {
  position: fixed;
  top: -10px;
  pointer-events: none;
  animation: fall linear infinite;
}
@keyframes fall { to { transform: translateY(110vh); } }

#debugBox {
  position: fixed;
  bottom: 12px;
  left: 12px;
  opacity: 0.15;
}
#debugInput {
  background: rgba(0,0,0,.6);
  color: #fff;
  border: none;
  padding: 6px;
}
</style>
</head>

<body>

<div class="container">
  <h1>ğŸ„ Algo especial estÃ¡ guardado aqui ğŸ</h1>
  <div class="contador" id="contador"></div>
  <button id="revealButton">â–¶ï¸ Play Ã¡udio ğŸ¶</button>
  <div id="mensagem"></div>
</div>

<div id="debugBox">
  <input id="debugInput" placeholder="âŒ˜ comando secreto">
</div>

<audio id="audioBackground" loop src="reveal.mp3"></audio>
<audio id="audioReveal" src="reveal.mp3"></audio>

<script>
// ================= CONFIG =================
const dataLiberacao = new Date(2026,11,25,0,20,0);
const storageKey = "mensagemNatalRevelada";

// ================= TEXTOS =================
const textoCodificado = [
"JÃ³ fÃ³cz ra ykdf oco wd yfbmzje t qf hhvuzra zy mcsso ptyo.",
"Czsks hqt qbt tchg vvtt eukpbcra, fqpfyo avtrdzmrr.",
"Cqx yjcvz xrsgrg ztbgvxs, rmv jgbsz fvhbs bfe iqx et pzg, cs zkcfs fgqf izq ypgqk oc vkncs csgxv.",
"Vxfrd lbgzy tbÃª wz dgsxk, fgz wt gpmpfe akpÃ´qqc, fgz wt vzftff fnhbzdtzt.",
"Jpwsr ts rpuo g fzycmu vyxkbwt tzgnwgg trr uqbvzm, rq dvmfrfc, rq mccyprz, rq sfytrdse vtsky.",
"Dmsd jq tgbdm vbtfzhq jgcrqz cst hspt ds brgpx, rq hyyzt xqbb rglz gj vgrc.",
"Rq thhzfg fzxx z ggszrfc tgx xrfcmf ts ftppq, cs gzoqr Ã  etvxfÃªozz.",
"Ã‡vÃª rq jwv gqgq hv zrs wkqw lffy gvtgxtf y kf lszd ffyy xgsnvgg qhsyq bbrfyx.",
"D zlb cs vksdb bfy p bb xzr gqvygvv z mtjcs.",
"Sg vtfxzqs ph xgvqyyvr, xt rfrlt, rfd rq vpcÃª qgrz.",
"Zvhq gkmz kvm rz zlrwx xrd q mvm rbl ptzq z gqj ty qzqy.",
"T zzÃª dsdyl gr wfbivv mlf tpp hiy, rmts xt xppss yxxz btp hdhvsy wrn hcfkq zgzav.",
"Jdkq zÃ¢rz vrxt pq dvpxs z qk xr hswnfqfzw dvw jxxtvvx.",
"Fqg rzct dmtxg x bts bts fypbhksl, xypdss wpzyrg sg vtgntgg hdbfyx.",
"Vjfq sb wgdvtrb wv tzhvcyx bxs tvyynzr wgsx vkpzh fws zsvm tfdÃ§vv bppfpz jtyjvqhz rq hskwm.",
"Jtswb pprfdy.",
"Qd zgzxz ztqz dzhx zy bzxw vyxlhhs, ztdfrg az xwspjbrf jgfr.",
"Fqzjtyx avds, vmvbfv ksdz jskkbf b khffbf.",
"Tnyzf x bfe ztkp, tyvqx vgmghf t bggvryx xgrz qk vgtczw.",
"Cvrh fz qyppbb tv dtxzsz fzxx fvrkbh tbt hdfcttzv.",
"Rzygr jfkz, sx fzdfe bvrfdg.",
"Stpvv rfd rp wbg jgpc ptyo uqjv, whldg tgbx fqpfhs.",
"Hfszgt qg qkzddr jgfrz, ngfr ggm czx ds kpbqpzz.",
"Fhgz rz zssbgpdtf.",
"Hsd zsnxzqz pqx aofÃª dzn lzzf z bgdcm kgg kgyv.",
"Bb ztqzf gvdzhx, zxxc.",
"Jx qxpjwbbf xrd gzdgm fvpdrs jgfrz.",
"Jtswb zdkp qzjv fbgxtgyv tppfpz pgrz, gyljz t fzxxzqv.",
"Xg zdgvt zshqz qk bts bts jgfrz.",
"M hx wfpfxk zpwxr vchbg, fbgcszq ts tsr bfdj qthx.",
"Hyqlcf tzsssfq z vvrhtf wrn bgdj zthzrg, ggm zs mxry zpsf.",
"Zgkz Xksrz, zg tbgdvt fzhbgg gsp ztqz trgsxk zvr lzjh.",
"Ksw jgfrz rzqv tdx tgpdrt pwg gk.",
"Vdkz jgfrz bfe zs bzkdr gspg pqf gkdvftz, pzqrfkz, zfÃª gkdvftz.",
"Jdkq zvr lzjh.",
];

const linhas = [
"HÃ¡ algo em vocÃª,que me acalma e ilumina minhas manhÃ£s.",
"Algo que nÃ£o pede explicaÃ§Ã£o, apenas presenÃ§a.",
"Nos seus gestos simples, nas mensagens do dia a dia e no jeito leve com que entra na minha rotina, encontro um lugar alegre, gentil, divertido e seguro.",
"Quando penso em vocÃª, nÃ£o penso em uma perfeiÃ§Ã£o inalcanÃ§Ã¡vel.",
"Penso na sua verdade.",
"Na sua doÃ§ura, na sua coragem e na forma sincera como se expressa.",
"Leoa, admiro a forÃ§a que vocÃª carrega sem perder a ternura.",
"Gosto de como a nossa histÃ³ria acontece sem pressa.",
"Nos cuidados, na atenÃ§Ã£o e nas pequenas coisas.",
"No jeito como vocÃª me deixou chegar.",
"Nos risos fora de hora e nas noites cansadas que terminam em carinho, mesmo Ã  distÃ¢ncia.",
"AtÃ© nos dias em que o sono insiste, mas a vontade de conversar vence.",
"VocÃª me mostra que estar junto tambÃ©m Ã© respeitar.",
"E me ensinou que o tempo e o silÃªncio podem ser formas de cuidado.",
"Te ver se soltar, se divertir, rir de vocÃª mesma e do mundo ao redor me alegra profundamente.",
"E me faz rir junto com vocÃª.",
"E quando vocÃª se abre, Bruxinha, confiando atÃ© os seus momentos mais difÃ­ceis, meu coraÃ§Ã£o se abre inteiro.",
"Com vontade de acolher.",
"Porque eu nÃ£o quero apenas os seus melhores dias.",
"Eu quero vocÃª por completo.",
"Nos dias leves e nos dias pesados.",
"Se eu pudesse escolher, estaria ao seu lado para cuidar, acolher e dividir cada detalhe.",
"AtÃ© os mais simples, que com vocÃª ganham importÃ¢ncia.",
"Neste Natal, eu agradeÃ§o por vocÃª existir na minha vida.",
"VocÃª mudou meus pensamentos e trouxe um jeito Ãºnico de sentir e viver.",
"Um jeito que nÃ£o precisa mudar.",
"Porque Ã© exatamente assim que sou apaixonado por vocÃª.",
"AgradeÃ§o por me permitir sentir, confiar, crescer e amadurecer.",
"E por me ajudar a enfrentar meus medos.",
"O que sinto por vocÃª Ã© tranquilo, forte e verdadeiro.",
"Ã‰ escolha.",
"Ã‰ cuidado.",
"Ã‰ construÃ§Ã£o diÃ¡ria.",
"Quero que vocÃª se sinta amada, respeitada e segura.",
"Quero ser um companheiro em quem vocÃª possa contar.",
"Com o coraÃ§Ã£o sempre aberto para vocÃª.",
"Hoje, neste Natal, e sempre. ğŸ„âœ¨",
];

const assinatura = "â€” Do seu Tabacudo de SÃ£o Paulo, S. Luiz";

// ================= ELEMENTOS =================
const mensagem = document.getElementById("mensagem");
const contador = document.getElementById("contador");
const audioBackground = document.getElementById("audioBackground");
const audioReveal = document.getElementById("audioReveal");

let revelando = false;
let debugAtivo = false;

// ================= TEXTO CODIFICADO =================
function mostrarCodificado() {
  mensagem.innerHTML = textoCodificado.map(l=>`<p class="hidden">${l}</p>`).join("");
}

// ================= CONTADOR =================
function atualizar() {
  const agora = new Date();

  if (localStorage.getItem(storageKey)==="true") {
    if (!revelando) iniciarRevelacao(false);
    contador.innerHTML = "âœ¨ A mensagem foi revelada âœ¨";
    return;
  }

  if (agora < dataLiberacao) {
    mostrarCodificado();
    const diff = dataLiberacao - agora;
    const d = Math.floor(diff/86400000);
    const h = Math.floor(diff/3600000)%24;
    const m = Math.floor(diff/60000)%60;
    const s = Math.floor(diff/1000)%60;
    contador.innerHTML = `â³ ${d}d ${h}h ${m}m ${s}s`;
  } else {
    localStorage.setItem(storageKey,"true");
    iniciarRevelacao(false);
  }
}

// ================= REVELAÃ‡ÃƒO =================
const chars="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";
function rand(){return chars[Math.floor(Math.random()*chars.length)]}

let li=0, ci=0, texto="";

function iniciarRevelacao(debug){
  revelando = true;
  debugAtivo = debug;

  mensagem.innerHTML="";
  audioBackground.pause();
  audioReveal.play().catch(()=>{});

  li=0; ci=0; texto="";
  digitar(debug);
}

function digitar(debug){
  if(li>=linhas.length){
    mensagem.innerHTML=texto;
    const s=document.createElement("div");
    s.className="assinatura";
    s.textContent=assinatura;
    mensagem.appendChild(s);
    setTimeout(()=>s.style.opacity=1,800);

    if(debug){
      setTimeout(()=>{
        debugAtivo=false;
        revelando=false;
        mostrarCodificado();
        audioReveal.pause();
      },3000);
    }
    return;
  }

  const linha=linhas[li];
  if(ci<linha.length){
    mensagem.innerHTML=texto+rand()+"<span class='cursor'>|</span>";
    setTimeout(()=>{
      texto+=linha[ci++];
      digitar(debug);
    },40);
  }else{
    texto+="\n\n";
    li++; ci=0;
    setTimeout(()=>digitar(debug),300);
  }
}

// ================= DEBUG =================
debugInput.addEventListener("keydown",e=>{
  if(e.key==="Enter" && e.target.value.toLowerCase()==="flor de gyovana"){
    e.target.value="";
    iniciarRevelacao(true);
  }
});

// ================= BOTÃƒO =================
revealButton.onclick=()=>audioBackground.play().catch(()=>{});

// ================= NEVE =================
setInterval(()=>{
  const f=document.createElement("div");
  f.className="snowflake";
  f.textContent="â„";
  f.style.left=Math.random()*innerWidth+"px";
  f.style.animationDuration=6+Math.random()*6+"s";
  document.body.appendChild(f);
  setTimeout(()=>f.remove(),12000);
},350);

// ================= START =================
setInterval(atualizar,1000);
atualizar();
</script>

</body>
</html>
